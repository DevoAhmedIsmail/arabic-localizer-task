import React from "react";
import Select from 'react-select';
import '../App.css';

export const SelectInput = ({ id, changeHandler, options, isError, value, label, isLoading }) => {
  const defaultValue = value.map(val => ({ value: val.id, label: val.name }));

  return (
    <Select
      value={defaultValue}
      classNamePrefix="react-select"
      onChange={(selectedOptions) => {
        const selectedValues = selectedOptions.map(option => option.value);
        changeHandler(prev => ({ ...prev, [id]: selectedValues }));
      }}
      isLoading={isLoading}
      isSearchable={false}
      name=""
      options={options.map(option => ({ value: option.id, label: option.name }))}
      isMulti
      className={`${isError ? "border-red-400" : "border-[#aaaaaad6]"} focus:outline-[#aaaaaad6] h-[30px] rounded text-[13px] text-[#8f9da9]`}
    />
  );
};
